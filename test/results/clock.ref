sbn -815193061 HASH("Time") On 1
sbn -815193061 HASH("Time") Setting 0
sbn -815193061 HASH("Time") Mode 7
sbn -815193061 HASH("Sunset") On 1
sbn -815193061 HASH("Sunset") Setting 0
sbn -815193061 HASH("Sunset") Mode 7
jal init
lbwhile8:
  yield 
  jal get.vertical
  get r0 db 511
  put db 510 r0
  jal handle.minmax
  put db 510 r0
  jal calc.time
  get r0 db 511
  sbn -815193061 HASH("Time") Setting r0
  s db Setting r0
  poke 500 r0
  put db 510 0
  jal calc.time
  get r1 db 511
  bge r1 r0 lbelse35
    sub r1 1200 r1
lbelse35:
  sub r2 r1 r0
  add r2 r2 1200
  mod r2 r2 1200
  sbn -815193061 HASH("Sunset") Setting r2
  poke 501 r2
  j lbwhile8
calc.time:
  get r3 db 510
  get r4 db 503
  mul r4 r4 0.5
  get r5 db 502
  mul r5 r5 0.5
  add r6 r4 r5
  sub r7 r4 r5
  move r5 r3
  sub r5 r5 r6
  div r5 r5 r7
  max r5 r5 -1
  min r5 r5 1
  acos r5 r5
  div r5 r5 6.283184
  get r7 db 505
  ble r7 0 lbelse30
    sub r5 1 r5
lbelse30:
  add r5 r5 0.5
  mod r5 r5 1
  mul r5 r5 1200
  put db 511 r5
  j ra
get.vertical:
  l r8 d0 Vertical
  sub r8 90 r8
  div r8 r8 180
  mul r8 r8 3.141592
  sin r8 r8
  put db 511 r8
  j ra
handle.minmax:
  get r3 db 510
  get r4 db 504
  beq r4 0 lbelse12
    get r5 db 505
    bne r5 0 lbelse15
      sub r6 r3 r4
      poke 505 r6
lbelse15:
    sub r6 r3 r4
    mul r7 r6 r5
    bge r7 0 lbelse20
      sgt r6 r5 0
      select r7 r6 503 502
      poke r7 r4
      poke 505 r6
lbelse20:
lbelse12:
  poke 504 r3
  j ra
init:
  clr db
  push ra
  move r3 0
  move r4 0
  move r5 0
  jal get.vertical
  get r6 db 511
  sub r4 r4 r6
  add r5 r5 r6
  sleep 5
  jal get.vertical
  get r6 db 511
  poke 504 r6
  move r3 r6
  mul r6 r6 2
  sub r5 r5 r6
  sleep 5
  jal get.vertical
  get r6 db 511
  add r4 r4 r6
  add r5 r5 r6
  mul r4 r4 0.5
  div r4 r4 0.026179938416666666
  div r5 r5 0.026179938416666666
  div r5 r5 0.026179938416666666
  poke 505 r4
  add r7 r3 r5
  sub r3 r3 r7
  mul r3 r3 r3
  mul r4 r4 r4
  add r5 r3 r4
  sqrt r5 r5
  sub r6 r7 r5
  poke 502 r6
  add r6 r7 r5
  poke 503 r6
  pop ra
  j ra
# registers: 9
# lines: 122
